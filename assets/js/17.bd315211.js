(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{237:function(e,t,a){"use strict";a.r(t);var s=a(0),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"virtueel-geheugen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#virtueel-geheugen"}},[e._v("#")]),e._v(" Virtueel geheugen")]),e._v(" "),a("ul",[a("li",[e._v("Veel besturingssystemen werken met virtueel geheugen")]),e._v(" "),a("li",[e._v("Niet alle pages die bij een process horen hoeven altijd in het geheugen te staan\n"),a("ul",[a("li",[e._v("Tijdelijke opslag in wisselbestand (op harde schijf of in flash)")]),e._v(" "),a("li",[e._v("Pages die wel in geheugen staan heet Resident Set")]),e._v(" "),a("li",[e._v("Main memory fungeert als cache van het virtuele geheugen")]),e._v(" "),a("li",[e._v("Het OS beheert deze cache")])])]),e._v(" "),a("li",[e._v("Voordelen\n"),a("ul",[a("li",[e._v("Er kunnen meer processen gelijktijdig geladen zijn\n"),a("ul",[a("li",[e._v("Kans is groter dat tenminste 1 proces Ready is => daardoor beter CPU gebruik")])])]),e._v(" "),a("li",[e._v("Een proces kan meer geheugen gebruiken dan er fysiek aanwezig is")])])])]),e._v(" "),a("h2",{attrs:{id:"localiteitsprincipe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#localiteitsprincipe"}},[e._v("#")]),e._v(" Localiteitsprincipe")]),e._v(" "),a("ul",[a("li",[e._v("Een proces gebruikt op een bepaald moment slechts een deel van zijn pages")]),e._v(" "),a("li",[e._v("Indien een page gebruikt wordt is de kans groot dat daar in de nabije toekomst opnieuw naar gerefereerd wordt")])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/llOxiYg.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"virtuele-adressen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#virtuele-adressen"}},[e._v("#")]),e._v(" Virtuele adressen")]),e._v(" "),a("ul",[a("li",[e._v("Een virtueel adres is een offset in één van de pages van het proces")]),e._v(" "),a("li",[e._v("In de page table wordt bijgehouden welke pages waar in het geheugen (frame) is geplaatst\n"),a("ul",[a("li",[e._v("P = Present (staat page in frame of in wisselbestand)")]),e._v(" "),a("li",[e._v("M = Modified (is er sindsdat de page geladen is iets aan gewijzigd)")])])])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/GXH6H2s.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"pages-in-frames"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pages-in-frames"}},[e._v("#")]),e._v(" Pages in frames")]),e._v(" "),a("p",[e._v("-Frames zijn universele opslagplekken volgens een vaste structuur en positie\n-De pages worden in een frame ‘geplaatst’\n-Frames zijn wissellijsten en kunnen steeds een andere page bevatten")]),e._v(" "),a("h2",{attrs:{id:"vertaling-virtueel-naar-fysiek-adres-pages-in-pageframes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vertaling-virtueel-naar-fysiek-adres-pages-in-pageframes"}},[e._v("#")]),e._v(" Vertaling virtueel naar fysiek adres - Pages in pageframes")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/JvGpsui.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"page-fault-laden-van-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#page-fault-laden-van-page"}},[e._v("#")]),e._v(" Page fault - Laden van page")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/mUaGPnF.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"som-page-table"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#som-page-table"}},[e._v("#")]),e._v(" Som - page table")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Veel 32bits CPUs werken met pages van 4KB groot")])]),e._v(" "),a("li",[a("p",[e._v("De 32 bits geheugen ruimte is 2^32 = 4GB groot")])]),e._v(" "),a("li",[a("p",[e._v("Hoe groot is dan de page table zelf?\n")]),a("details",[a("summary",[e._v("Antwoord")]),a("p"),e._v(" "),a("ul",[a("li",[e._v("De offset in een 4KB pagina is 12 bits")]),e._v(" "),a("li",[e._v("Een frame is dus 20 bits")]),e._v(" "),a("li",[e._v('"+" control bit is 32 bits = 4 bytes')]),e._v(" "),a("li",[e._v("4GB / 4KB = ruim 1 miljoen pages")]),e._v(" "),a("li",[e._v("Omvang page table is dus 4*1,048,576 = 4MB groot\n")])])])])]),e._v(" "),a("h2",{attrs:{id:"som-page-table-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#som-page-table-2"}},[e._v("#")]),e._v(" Som - page table 2")]),e._v(" "),a("ul",[a("li",[e._v("Stel er is een 64 bits CPU met pages van 4KB groot")]),e._v(" "),a("li",[e._v("Hoe groot is de page table dan?")])]),e._v(" "),a("details",[a("summary",[e._v("Antwoord")]),e._v(" "),a("ul",[a("li",[e._v("2^64 / 4096 = 4,5 * 10^15 pages")]),e._v(" "),a("li",[e._v("Page table is dan 18000 TB groot! (wat maar 0,1% van de beschikbare virtuele geheugenruimte is)")]),e._v(" "),a("li",[e._v("Per proces!")]),e._v(" "),a("li",[e._v("Dit kan natuurlijk niet")]),e._v(" "),a("li",[e._v("Oplossing is een hiërarchische page table in "),a("em",[e._v("virtual memory")])])])]),e._v(" "),a("h2",{attrs:{id:"hierarchische-page-tables-32-bits"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hierarchische-page-tables-32-bits"}},[e._v("#")]),e._v(" Hiërarchische page tables (32 bits)")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/yE42twm.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"hierarchische-page-tables-klein-proces"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hierarchische-page-tables-klein-proces"}},[e._v("#")]),e._v(" Hiërarchische page tables (klein proces)")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/LBFU9Vy.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"adresvertaling-met-hierarchische-page-table"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adresvertaling-met-hierarchische-page-table"}},[e._v("#")]),e._v(" Adresvertaling met hiërarchische page table")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/DYQocLa.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"table-lookaside-buffer-–-cache-voor-de-page-table"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-lookaside-buffer-–-cache-voor-de-page-table"}},[e._v("#")]),e._v(" Table Lookaside Buffer – Cache voor de page table")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/8jSvJ89.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"virtueel-geheugen-beheer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#virtueel-geheugen-beheer"}},[e._v("#")]),e._v(" Virtueel geheugen beheer")]),e._v(" "),a("ul",[a("li",[e._v("Het OS moet verschillende 'beslissingen' nemen")]),e._v(" "),a("li",[e._v("Welke pages van een proces moeten bij het opstarten van dit proces in het geheugen geladen worden?\n"),a("ul",[a("li",[e._v("Geen: demand poging")]),e._v(" "),a("li",[e._v("Deel/alles: prepaging")])])]),e._v(" "),a("li",[e._v("Als er een page fault optreed en er dus een page in een frame geladen meot worden, welke frame ga ik daarvoor gebruiken?\n"),a("ul",[a("li",[e._v("Welke page kan uit het werkgeheugen?")]),e._v(" "),a("li",[e._v("Sommige pages zijn gelocked (bijvoorbeeld geheugen van OS zelf)")])])])]),e._v(" "),a("h2",{attrs:{id:"pages-vervangen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pages-vervangen"}},[e._v("#")]),e._v(" Pages vervangen")]),e._v(" "),a("ul",[a("li",[e._v("Er zijn verschillende algoritmes om te besluiten welke page uit het geheugen kan:\n"),a("ul",[a("li",[e._v("Optimaal\n"),a("ul",[a("li",[e._v("Wekle page is het langst nog niet nodig\n"),a("ul",[a("li",[e._v("Alleen theoretisch want OS kan niet weten hoe processen verder verlopen")])])])])])])])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/TULjxcv.png",alt:""}})]),e._v(" "),a("ul",[a("li",[e._v("Langst al niet gebruikte page\n"),a("ul",[a("li",[e._v("Least Recently Used (LRU)")]),e._v(" "),a("li",[e._v("Bijna net zo goed als optimaal")]),e._v(" "),a("li",[e._v("Lastig te implementeren")])])])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/NP9nRJQ.png",alt:""}})]),e._v(" "),a("ul",[a("li",[e._v("First in First out\n"),a("ul",[a("li",[e._v("Page die al het langst in het geheugen staat eruit")]),e._v(" "),a("li",[e._v("Makkelijk te implementeren")])])])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/SXOESJw.png",alt:""}})]),e._v(" "),a("ul",[a("li",[e._v("Clock algoritme (meer hierover volgende paragraaf)\n"),a("ul",[a("li",[e._v("Mooite tussenweg")])])])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/qofAqa9.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"clock-algoritme"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clock-algoritme"}},[e._v("#")]),e._v(" Clock algoritme")]),e._v(" "),a("ul",[a("li",[e._v("Stap 1:\n"),a("ul",[a("li",[e._v("Zoek page die niet recentelijk gebruikt is en niet gewijzigd")]),e._v(" "),a("li",[e._v("Is er 1? Gooi die er dan uit")])])]),e._v(" "),a("li",[e._v("Geen gevonden ?")]),e._v(" "),a("li",[e._v("Stap 2:\n"),a("ul",[a("li",[e._v("Zoek page die niet recentelijk gebruikt is maar wel gewijzigd")]),e._v(" "),a("li",[e._v("Reset daarbij recentelijk gebruikte bit")])])]),e._v(" "),a("li",[e._v("Geen gevonden?")]),e._v(" "),a("li",[e._v("Herhaal stap 1 en stap 2\n"),a("ul",[a("li",[e._v("Omdat tijdens stap 2 de recentelijk gebruikte bit is gereset wordt er zeker een kandidaat gevonden")])])])]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v("found_page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("zoek page die niet recentelijk gebruikt is en niet gewijzigd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n    found_page "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("else")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("zoek page die niet recentelijk gebruikt is maar wel gewijzigd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("reset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://i.imgur.com/l4h4hrZ.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"geheugen-segmentatie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#geheugen-segmentatie"}},[e._v("#")]),e._v(" Geheugen segmentatie")]),e._v(" "),a("ul",[a("li",[e._v("Het geheugen van een proces kan in verschillende segmenten opgedeeld worden:\n"),a("ul",[a("li",[e._v("Modulaire indeling:\n"),a("ul",[a("li",[e._v("Verschillende onderdelen/data van een programma in eigen segment")])])]),e._v(" "),a("li",[e._v("Functionele indeling:\n"),a("ul",[a("li",[e._v("Code-, datasegmenten")])])])])]),e._v(" "),a("li",[e._v("Geheugensegmentatie kan worden gebruikt in combinatie met paging")]),e._v(" "),a("li",[e._v("Geheugensegmentatie is op z'n retour. Binnen Intel x64 architectuur wordt er nog maar beperkt gebruik van gemaakt")])]),e._v(" "),a("h2",{attrs:{id:"protectie-middels-segmenten"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#protectie-middels-segmenten"}},[e._v("#")]),e._v(" Protectie middels segmenten")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/zrjFpzh.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"gesegmenteerd-geheugen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gesegmenteerd-geheugen"}},[e._v("#")]),e._v(" Gesegmenteerd geheugen")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/jt2hUvW.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"gesegmenteerd-geheugen-paging"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gesegmenteerd-geheugen-paging"}},[e._v("#")]),e._v(" Gesegmenteerd geheugen + paging")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/ADTMtYA.png",alt:""}})])])}),[],!1,null,null,null);t.default=n.exports}}]);