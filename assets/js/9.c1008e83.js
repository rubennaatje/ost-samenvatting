(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{229:function(e,t,a){"use strict";a.r(t);var r=a(0),i=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"deadlock-starvation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deadlock-starvation"}},[e._v("#")]),e._v(" Deadlock & Starvation")]),e._v(" "),a("h2",{attrs:{id:"it-s-an-imperfect-world"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#it-s-an-imperfect-world"}},[e._v("#")]),e._v(" It's an imperfect world")]),e._v(" "),a("ul",[a("li",[e._v("Deadlock en Starvation zijn bijwerkingen van multithreading")]),e._v(" "),a("li",[e._v("Niet 100% te voorkomen of te genezen")])]),e._v(" "),a("h2",{attrs:{id:"voorbeeld-deadlock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#voorbeeld-deadlock"}},[e._v("#")]),e._v(" Voorbeeld deadlock")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/7l14zYU.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"oorzaak"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oorzaak"}},[e._v("#")]),e._v(" Oorzaak")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/4DOC1jc.png",alt:""}}),e._v(" "),a("img",{attrs:{src:"https://i.imgur.com/3Hdr7ga.png",alt:""}})]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/atf7KDY.png",alt:""}})]),e._v(" "),a("ul",[a("li",[e._v("Er is 200k geheugen beschikbaar")]),e._v(" "),a("li",[e._v("P1 en P2 claimen beiden een deel van de resources die ze nodig hebben")]),e._v(" "),a("li",[e._v("Volgende claim is niet meer mogelijk => Deadlock !!")])]),e._v(" "),a("h2",{attrs:{id:"deadlock-condities"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deadlock-condities"}},[e._v("#")]),e._v(" Deadlock - condities")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Er zijn 3 condities die moeten gelden voordat deadlock kan ontstaan:")])]),e._v(" "),a("li",[a("ol",[a("li",[e._v("Mutual Exclusion")])]),e._v(" "),a("ul",[a("li",[e._v("Slechts 1 proces mag gelijktijdig een resource gebruiken")])])]),e._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[e._v("Hold and Wait")])]),e._v(" "),a("ul",[a("li",[e._v("Processen kunnen geblokkeerd raken terwijl ze al resources hebben geclaimd")])])]),e._v(" "),a("li",[a("ol",{attrs:{start:"3"}},[a("li",[e._v("Geen resources preemption")])]),e._v(" "),a("ul",[a("li",[e._v("Resources die toegekend zijn kunnen niet afgepakt worden")])])]),e._v(" "),a("li",[a("p",[e._v("Er ontstaat nu deadlock als:")]),e._v(" "),a("ul",[a("li",[e._v("Alle processen op elkaar wachten in een gesloten lus")])])])]),e._v(" "),a("h2",{attrs:{id:"resource-graphs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resource-graphs"}},[e._v("#")]),e._v(" Resource graphs")]),e._v(" "),a("ul",[a("li",[e._v("Je kunt middels Resource Graphs grafisch weergeven welke processen:\n"),a("ul",[a("li",[e._v("Resources hebben geclaimd")]),e._v(" "),a("li",[e._v("Toegang tot resources willen krijgen")])])])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/PoAa1Ze.png",alt:""}}),e._v(" "),a("img",{attrs:{src:"https://i.imgur.com/S9Vy5ZL.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"deadlocks-oplossingen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deadlocks-oplossingen"}},[e._v("#")]),e._v(" Deadlocks - oplossingen")]),e._v(" "),a("ul",[a("li",[e._v("Struisvogelpolitiek\n"),a("ul",[a("li",[e._v("Accepteer dat processen mogelijk vastlopen en door de gebruiker moeten worden ‘afgeschoten’")])])]),e._v(" "),a("li",[e._v("Detecteren en oplossen\n"),a("ul",[a("li",[e._v("OS scant voor deadlocks en ‘lost’ deze op")])])]),e._v(" "),a("li",[e._v("Preventie – design time")]),e._v(" "),a("li",[e._v("Preventie – run time\n"),a("ul",[a("li",[e._v("Het bankiersalgoritme")])])])]),e._v(" "),a("h2",{attrs:{id:"deadlocks-detecteren-en-oplossen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deadlocks-detecteren-en-oplossen"}},[e._v("#")]),e._v(" Deadlocks - detecteren en oplossen")]),e._v(" "),a("ul",[a("li",[e._v("Detectie: vindt lus in resource graph")]),e._v(" "),a("li",[e._v("Deadlock kan doorbroken worden door:\n"),a("ul",[a("li",[e._v("Één of meerdere processen in deadlock te beëindigen")]),e._v(" "),a("li",[e._v("Resources te preempten")])])]),e._v(" "),a("li",[e._v("Uitdaging:\n"),a("ul",[a("li",[e._v("Bij welk proces moet het OS inbreken om de deadlock op te lossen\n"),a("ul",[a("li",[e._v("Laagste prioriteit ??")]),e._v(" "),a("li",[e._v("Proces dat geen open bestanden heeft ??")])])])])]),e._v(" "),a("li",[e._v("Groot nadeel:\n"),a("ul",[a("li",[e._v("Leidt tot ongedefinieerde toestanden")]),e._v(" "),a("li",[e._v("Proces heeft een deel van de taak volbracht en wellicht bestanden of databases gedeeltelijk aangepast")])])])]),e._v(" "),a("h2",{attrs:{id:"deadlocks-preventie-design-time"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deadlocks-preventie-design-time"}},[e._v("#")]),e._v(" Deadlocks - preventie design-time")]),e._v(" "),a("ul",[a("li",[e._v("Neem 1 van de 3 voorwaarden voor deadlock weg:\n"),a("ul",[a("li",[e._v("Geen mutual exclusion òf")]),e._v(" "),a("li",[e._v("Geen hold and wait òf")]),e._v(" "),a("li",[e._v("Resources zijn preemptable")])])]),e._v(" "),a("li",[e._v("Multithreading zonder mutual exclusion is eigenlijk niet mogelijk vanwege data consistentie")]),e._v(" "),a("li",[e._v("Hold en wait is te voorkomen door:\n"),a("ul",[a("li",[e._v("Eerst alle resources claimen die voor de executie nodig is.")]),e._v(" "),a("li",[e._v("Indien alle resources beschikbaar zijn dan starten")]),e._v(" "),a("li",[e._v("Anders resources vrijgeven")])])]),e._v(" "),a("li",[e._v("Vaak is echter niet van tevoren bekend welke resources voor executie nodig zijn")])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/3Xjajaa.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"deadlocks-preventie-design-time-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deadlocks-preventie-design-time-2"}},[e._v("#")]),e._v(" Deadlocks - preventie design-time")]),e._v(" "),a("ul",[a("li",[e._v("Alle resource preemptable\n"),a("ul",[a("li",[e._v("Werkt alleen goed voor resources waarvan de status makkelijk opgeslagen en hersteld kan worden\n"),a("ul",[a("li",[e._v("Processor")]),e._v(" "),a("li",[e._v("Geheugen")])])])])])]),e._v(" "),a("h2",{attrs:{id:"deadlocks-preventie-run-time"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deadlocks-preventie-run-time"}},[e._v("#")]),e._v(" Deadlocks - preventie run-time")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/ukj5BUT.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"starvation-probleem-preventie-run-time"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#starvation-probleem-preventie-run-time"}},[e._v("#")]),e._v(" Starvation (probleem preventie run-time)")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://i.imgur.com/QUKyuwb.png",alt:""}})])])}),[],!1,null,null,null);t.default=i.exports}}]);