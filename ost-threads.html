<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Threads | OST Samenvatting</title>
    <meta name="description" content="Samenvatting van het vak OST">
    
    
    <link rel="preload" href="/ost-samenvatting/assets/css/0.styles.aee477c6.css" as="style"><link rel="preload" href="/ost-samenvatting/assets/js/app.57864540.js" as="script"><link rel="preload" href="/ost-samenvatting/assets/js/2.3aa94bd4.js" as="script"><link rel="preload" href="/ost-samenvatting/assets/js/16.4e6e9bf9.js" as="script"><link rel="prefetch" href="/ost-samenvatting/assets/js/10.45765e46.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/11.c353c14c.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/12.75864a7c.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/13.f95654f9.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/14.a2b12e41.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/15.804c8a2e.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/17.bd315211.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/18.f20fc2c9.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/3.6f33dd54.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/4.a2ab85ee.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/5.08be93dd.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/6.9cae9698.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/7.d01b4801.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/8.13502a26.js"><link rel="prefetch" href="/ost-samenvatting/assets/js/9.c1008e83.js">
    <link rel="stylesheet" href="/ost-samenvatting/assets/css/0.styles.aee477c6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ost-samenvatting/" class="home-link router-link-active"><!----> <span class="site-name">OST Samenvatting</span></a> <div class="links"><!----> <div class="user-settings"><a href="#" class="settings-button"><svg aria-hidden="true" data-prefix="fas" data-icon="cog" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-cog fa-w-16 settings-icon"><path fill="currentColor" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"></path></svg></a> <div class="user-settings-menu" style="display:none;"><div class="theme-options"><!----> <!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox"></div> <!----> <!----></div></div></div> <!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ost-samenvatting/" class="nav-link">Home</a></div> <a href="https://github.com/rubennaatje/ost-samenvatting" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ost-samenvatting/" class="nav-link">Home</a></div> <a href="https://github.com/rubennaatje/ost-samenvatting" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Home</span> <!----></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Operating Systems</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ost-samenvatting/operating-systems.html" class="sidebar-link">Operating Systems</a></li><li><a href="/ost-samenvatting/ost-introduction.html" class="sidebar-link">OS introduction</a></li><li><a href="/ost-samenvatting/ost-os-overview.html" class="sidebar-link">OS overview</a></li><li><a href="/ost-samenvatting/ost-processen.html" class="sidebar-link">Beschrijving en besturing van processen</a></li><li><a href="/ost-samenvatting/ost-threads.html" class="active sidebar-link">Threads</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#kenmerken-van-een-proces" class="sidebar-link">Kenmerken van een proces</a></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#threads-and-processen" class="sidebar-link">Threads and Processen</a></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#single-threaded-and-multithreaded-process-models" class="sidebar-link">Single Threaded and Multithreaded Process Models</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#voordelen-threads" class="sidebar-link">Voordelen threads:</a></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#user-level-threads" class="sidebar-link">User-Level Threads</a></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#kernel-level-threads" class="sidebar-link">Kernel-level threads</a></li></ul></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#blokkeren-van-threads" class="sidebar-link">Blokkeren van threads</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#voorbeelden-gebruik-meerdere-threads" class="sidebar-link">Voorbeelden gebruik meerdere threads:</a></li></ul></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#multithreading-in-een-uniprocessor" class="sidebar-link">Multithreading in een uniprocessor</a></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#waarom-multithreading" class="sidebar-link">Waarom multithreading</a></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#threads-op-gebruikers-en-kernel-niveau" class="sidebar-link">Threads op gebruikers- en kernel-niveau</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#thread-op-gebruikersniveau-in-plaats-van-op-kernelniveau-hebben-enkele-voordelen" class="sidebar-link">Thread op gebruikersniveau in plaats van op kernelniveau hebben enkele voordelen:</a></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#threads-op-kernel-niveau" class="sidebar-link">Threads op kernel niveau</a></li></ul></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#hyper-threading" class="sidebar-link">Hyper Threading</a></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#core-block-diagram" class="sidebar-link">Core Block Diagram</a></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#risico-van-parallelisme" class="sidebar-link">Risico van parallelisme</a></li><li class="sidebar-sub-header"><a href="/ost-samenvatting/ost-threads.html#multithreaded-kruispunt" class="sidebar-link">Multithreaded kruispunt</a></li></ul></li><li><a href="/ost-samenvatting/ost-synchronisation.html" class="sidebar-link">Synchronisation</a></li><li><a href="/ost-samenvatting/ost-deadlock-starvation.html" class="sidebar-link">Deadlock &amp; Starvation</a></li><li><a href="/ost-samenvatting/ost-geheugenbeheer.html" class="sidebar-link">Geheugenbeheer</a></li><li><a href="/ost-samenvatting/ost-virtueel-geheugen.html" class="sidebar-link">Virtueel geheugen</a></li><li><a href="/ost-samenvatting/ost-scheduling.html" class="sidebar-link">Scheduling</a></li><li><a href="/ost-samenvatting/io-management.html" class="sidebar-link">I/O beheer</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Voorbeeld markdown</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ost-samenvatting/more-text.html" class="sidebar-link">More text</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="threads"><a href="#threads" class="header-anchor">#</a> Threads</h1> <h2 id="kenmerken-van-een-proces"><a href="#kenmerken-van-een-proces" class="header-anchor">#</a> Kenmerken van een proces</h2> <ul><li>Proces
<ul><li>Het <em>bezit bronnen</em> (virtueel geheugen, file handles)</li></ul></li> <li>Thread
<ul><li>Het wordt uitgevoerd volgens <em>een bepaald pad</em> in een uitvoeringstoestand (actief, gereed, geblokkeerd) met een bepaalde prioriteit</li></ul></li> <li>Deze twee karakteristieken kunnen onafhankelijk door het besturingssysteem worden behandeld.</li></ul> <h2 id="threads-and-processen"><a href="#threads-and-processen" class="header-anchor">#</a> Threads and Processen</h2> <p><img src="https://i.imgur.com/nISL1L5.png" alt=""></p> <p>Een proces een thread  🡺 MSDOS</p> <p>Meerdere processen, een thread per proces 🡺 Oorspronkelijk Unix</p> <p>Een proces, meerdere threads per proces 🡺 Java engine</p> <p>Meerdere processen meerdere threads per proces 🡺 Windows NT, Solaris en Linux</p> <p>Een thread kan worden gezien als een onafhankelijke programmateller binnen een proces.</p> <h2 id="single-threaded-and-multithreaded-process-models"><a href="#single-threaded-and-multithreaded-process-models" class="header-anchor">#</a> Single Threaded and Multithreaded Process Models</h2> <p><img src="https://i.imgur.com/c0k05df.png" alt=""></p> <h3 id="voordelen-threads"><a href="#voordelen-threads" class="header-anchor">#</a> Voordelen threads:</h3> <ul><li>Het creëren van een thread kost veel minder tijd dan het creëren van een proces.
-Hetzelfde geld voor het overschakelen van een proces.</li> <li>Omdat threads hetzelfde geheugen en I/O delen kunnen zij met elkaar communiceren zonder tussenkomst van de kernel.
Denk aan servers. Voor elke aanvraag een nieuwe thread.
Wanneer een proces opgeschort wordt worden alle threads van dat proces opgeschort.</li></ul> <h3 id="user-level-threads"><a href="#user-level-threads" class="header-anchor">#</a> User-Level Threads</h3> <ul><li>Threadmanagement door de applicatie</li> <li>Kernel weet niet van de threads  geen kernel privileges</li> <li>Scheduling is aplicatie specifiek.</li></ul> <h3 id="kernel-level-threads"><a href="#kernel-level-threads" class="header-anchor">#</a> Kernel-level threads</h3> <ul><li>Windows NT en OS/2 zijn voorbeelden van deze aanpak</li> <li>De kernel bestuurt de context informatie van de processen en de threads</li> <li>Het overschakelen van de threads wordt bestuurt door de kernel.
Gecombineerde benadering wordt gedaan door Solaris. Create in user space
De meeste scheduling en synchronisatie wordt ook in de userspace gedaan.</li></ul> <h2 id="blokkeren-van-threads"><a href="#blokkeren-van-threads" class="header-anchor">#</a> Blokkeren van threads</h2> <p><img src="https://i.imgur.com/D6VCbNF.png" alt=""></p> <p>Bij het bovenste plaatje in de figuur wordt 2 x een Remote procedure call aan geroepen naar verschillende machines.
Hetzelfde gebeurd in het onderste deel, maar daar zijn 2 threads opgestart.
De tweede methode is beter, tenzij door een I/O aanvraag het gehele proces opgeschort wordt.(zie volgende plaatje).</p> <h3 id="voorbeelden-gebruik-meerdere-threads"><a href="#voorbeelden-gebruik-meerdere-threads" class="header-anchor">#</a> Voorbeelden gebruik meerdere threads:</h3> <ul><li>Asynchrone verwerking:
<ul><li>File, html-server</li></ul></li> <li>Werk op voor of achtergrond: spreadsheet berekeningen, uitvoer van gegevens naar scherm, lezen van gegevens</li> <li>Uitvoeringssnelheid:
<ul><li>Benaderen van verschillende bronnen</li></ul></li> <li>Structuur van programma’s</li></ul> <h2 id="multithreading-in-een-uniprocessor"><a href="#multithreading-in-een-uniprocessor" class="header-anchor">#</a> Multithreading in een uniprocessor</h2> <p><img src="https://i.imgur.com/gm96LVn.png" alt=""></p> <p>Voorbeeld 2 processors.
Proces 1 heeft 2 threads
Proces 2 heeft 1 thread
Er moet synchronisatie plaats vinden tussen thread A en B
Scheduling van threads binnen proces.</p> <h2 id="waarom-multithreading"><a href="#waarom-multithreading" class="header-anchor">#</a> Waarom multithreading</h2> <ul><li>Uitvoeren van ‘achtergrondtaken’ binnen applicatie
<ul><li>Bijvoorbeeld spellingscheck binnen tekstverwerker</li> <li>Applicatie ‘lijkt’ sneller want gebruiker kan doorwerken tijdens check</li> <li>GUI blijft reageren !</li></ul></li> <li>Snellere uitvoer van een programma
<ul><li>Bij multicore kunnen programma’s meerdere dingen tegelijkertijd doen</li> <li>Bij singlecore kan programma andere dingen doen indien de ‘hoofdthread’ geblokkeerd raakt.</li></ul></li></ul> <h2 id="threads-op-gebruikers-en-kernel-niveau"><a href="#threads-op-gebruikers-en-kernel-niveau" class="header-anchor">#</a> Threads op gebruikers- en kernel-niveau</h2> <p><img src="https://i.imgur.com/wHgOqc0.png" alt=""></p> <h3 id="thread-op-gebruikersniveau-in-plaats-van-op-kernelniveau-hebben-enkele-voordelen"><a href="#thread-op-gebruikersniveau-in-plaats-van-op-kernelniveau-hebben-enkele-voordelen" class="header-anchor">#</a> Thread op gebruikersniveau in plaats van op kernelniveau hebben enkele voordelen:</h3> <ol><li>Threadwisseling vereist geen priveleges, dit bespaart overhead van twee moduswisselingen.</li> <li>De scheduling kan specifiek voor een toepassing gelden.</li> <li>De thread kunnen worden uitgevoerd op elk os.</li> <li>Voorbeeld Java engine</li></ol> <h4 id="nadelen"><a href="#nadelen" class="header-anchor">#</a> Nadelen:</h4> <ol><li>Systeem-aanroepen leiden tot blokkering: alle threads worden geblokkeerd.</li> <li>Kan geen gebruik maken van multiprocessing. Elke processor een proces!</li></ol> <h3 id="threads-op-kernel-niveau"><a href="#threads-op-kernel-niveau" class="header-anchor">#</a> Threads op kernel niveau</h3> <p>Het toepassingsprogramma bevat een API Application Program Interface die gekoppeld is aan de thread-voorziening van de kernel (NT en OS2)</p> <h4 id="nadeel"><a href="#nadeel" class="header-anchor">#</a> Nadeel:</h4> <ol><li>Moduswisseling naar de kernel</li></ol> <h2 id="hyper-threading"><a href="#hyper-threading" class="header-anchor">#</a> Hyper Threading</h2> <p><img src="https://i.imgur.com/47CpDcd.png" alt=""></p> <h2 id="core-block-diagram"><a href="#core-block-diagram" class="header-anchor">#</a> Core Block Diagram</h2> <p><img src="https://i.imgur.com/3dItxaK.png" alt=""></p> <h2 id="risico-van-parallelisme"><a href="#risico-van-parallelisme" class="header-anchor">#</a> Risico van parallelisme</h2> <h2 id="multithreaded-kruispunt"><a href="#multithreaded-kruispunt" class="header-anchor">#</a> Multithreaded kruispunt</h2> <p><img src="https://i.imgur.com/WYNDs95.png" alt=""></p> <p>Meer hier over in het volgende hoofdstuk</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/rubennaatje/ost-samenvatting/edit/master/docs/ost-threads.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/3/2019, 10:19:47 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ost-samenvatting/ost-processen.html" class="prev">Beschrijving en besturing van processen</a></span> <span class="next"><a href="/ost-samenvatting/ost-synchronisation.html">Synchronisation</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ost-samenvatting/assets/js/app.57864540.js" defer></script><script src="/ost-samenvatting/assets/js/2.3aa94bd4.js" defer></script><script src="/ost-samenvatting/assets/js/16.4e6e9bf9.js" defer></script>
  </body>
</html>
